{% load static %}
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Form Pendaftaran</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

<div class="container">
    <h2>Form Pendaftaran</h2>

    {% if error %}
        <div class="error">{{ error }}</div>
    {% endif %}

    <form method="post">
        {% csrf_token %}

        <label>Nama</label>
        <input type="text" name="nama" value="{{ data.nama|default:'' }}">

        <label>Email</label>
        <input type="email" name="email" value="{{ data.email|default:'' }}">

        <label>Negara</label>
        <select name="negara">
            <option value="">-- pilih negara --</option>
            {% for n in negara_list %}
                <option value="{{ n.id }}"
                {% if data.negara == n.id|stringformat:"s" %}selected{% endif %}>
                    {{ n.nama }}
                </option>
            {% endfor %}
        </select>

        <label>Provinsi</label>
        <select name="provinsi">
            <option value="">-- pilih provinsi --</option>
            {% for p in provinsi_list %}
                <option value="{{ p.id }}"
                {% if data.provinsi == p.id|stringformat:"s" %}selected{% endif %}>
                    {{ p.nama }}
                </option>
            {% endfor %}
        </select>

        <label>Kabupaten</label>
        <select name="kabupaten">
            <option value="">-- pilih kabupaten --</option>
            {% for k in kabupaten_list %}
                <option value="{{ k.id }}"
                {% if data.kabupaten == k.id|stringformat:"s" %}selected{% endif %}>
                    {{ k.nama }}
                </option>
            {% endfor %}
        </select>

        <label>Kecamatan</label>
        <select name="kecamatan">
            <option value="">-- pilih kecamatan --</option>
            {% for kc in kecamatan_list %}
                <option value="{{ kc.id }}"
                {% if data.kecamatan == kc.id|stringformat:"s" %}selected{% endif %}>
                    {{ kc.nama }}
                </option>
            {% endfor %}
        </select>

        <label>Desa</label>
        <select name="desa">
            <option value="">-- pilih desa --</option>
            {% for d in desa_list %}
                <option value="{{ d.id }}"
                {% if data.desa == d.id|stringformat:"s" %}selected{% endif %}>
                    {{ d.nama }}
                </option>
            {% endfor %}
        </select>

        <div class="button-group">
            <button type="submit" name="action" value="filter" class="btn-filter">
                Muat Wilayah
            </button>
            <button type="submit" name="action" value="save" class="btn-save">
                Simpan
            </button>
        </div>
    </form>
</div>

</body>
</html>
